<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Class: PoolParty::Base</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Class</strong></td>
          <td class="class-name-in-header">PoolParty::Base</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../../files/lib/poolparty/base_rb.html">
                lib/poolparty/base.rb
                </a>
        <br />
            </td>
        </tr>

        <tr class="top-aligned-row">
            <td><strong>Parent:</strong></td>
            <td>
                <a href="../Object.html">
                Object
               </a>
            </td>
        </tr>
        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">



   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M000296">add_ordered_resources_to_result</a>&nbsp;&nbsp;
      <a href="#M000287">after_loaded</a>&nbsp;&nbsp;
      <a href="#M000299">all_resources</a>&nbsp;&nbsp;
      <a href="#M000286">before_load</a>&nbsp;&nbsp;
      <a href="#M000304">clouds_dot_rb_dir</a>&nbsp;&nbsp;
      <a href="#M000303">clouds_dot_rb_dir</a>&nbsp;&nbsp;
      <a href="#M000301">clouds_dot_rb_file</a>&nbsp;&nbsp;
      <a href="#M000302">clouds_dot_rb_file</a>&nbsp;&nbsp;
      <a href="#M000288">compile_opts</a>&nbsp;&nbsp;
      <a href="#M000297">create_graph</a>&nbsp;&nbsp;
      <a href="#M000298">dependencies</a>&nbsp;&nbsp;
      <a href="#M000293">get_resource</a>&nbsp;&nbsp;
      <a href="#M000306">has_searchable_paths</a>&nbsp;&nbsp;
      <a href="#M000305">method_missing</a>&nbsp;&nbsp;
      <a href="#M000283">new</a>&nbsp;&nbsp;
      <a href="#M000292">ordered_resources</a>&nbsp;&nbsp;
      <a href="#M000300">output_resources_graph</a>&nbsp;&nbsp;
      <a href="#M000291">resources</a>&nbsp;&nbsp;
      <a href="#M000295">resources_graph</a>&nbsp;&nbsp;
      <a href="#M000284">run_in_context</a>&nbsp;&nbsp;
      <a href="#M000285">run_with_callbacks</a>&nbsp;&nbsp;
      <a href="#M000294">to_s</a>&nbsp;&nbsp;
      <a href="#M000289">valid?</a>&nbsp;&nbsp;
      <a href="#M000290">validations</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->
    <div id="includes">
      <h3 class="section-bar">Included Modules</h3>

      <div id="includes-list">
        <span class="include-name">Parenting</span>
        <span class="include-name">Dslify</span>
        <span class="include-name"><a href="../SearchablePaths.html">SearchablePaths</a></span>
        <span class="include-name"><a href="../Callbacks.html">Callbacks</a></span>
        <span class="include-name"><a href="../Delayed.html">Delayed</a></span>
      </div>
    </div>

    <div id="section">





    <div id="attribute-list">
      <h3 class="section-bar">Attributes</h3>

      <div class="name-list">
        <table>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">base_name</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc"></td>
        </tr>
        <tr class="top-aligned-row context-row">
          <td class="context-item-name">init_opts</td>
          <td class="context-item-value">&nbsp;[R]&nbsp;</td>
          <td class="context-item-desc"></td>
        </tr>
        </table>
      </div>
    </div>
      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Class methods</h3>

      <div id="method-M000304" class="method-detail">
        <a name="M000304"></a>

        <div class="method-heading">
          <a href="#M000304" class="method-signature">
          <span class="method-name">clouds_dot_rb_dir</span><span class="method-args">(n=nil)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000304-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000304-source">
<pre>
<span class="ruby-comment cmt"># File lib/poolparty/base.rb, line 206</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">clouds_dot_rb_dir</span>(<span class="ruby-identifier">n</span>=<span class="ruby-keyword kw">nil</span>); <span class="ruby-constant">Pool</span>.<span class="ruby-identifier">clouds_dot_rb_dir</span>(<span class="ruby-identifier">n</span>);<span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000302" class="method-detail">
        <a name="M000302"></a>

        <div class="method-heading">
          <a href="#M000302" class="method-signature">
          <span class="method-name">clouds_dot_rb_file</span><span class="method-args">(n=nil)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000302-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000302-source">
<pre>
<span class="ruby-comment cmt"># File lib/poolparty/base.rb, line 204</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">clouds_dot_rb_file</span>(<span class="ruby-identifier">n</span>=<span class="ruby-keyword kw">nil</span>);<span class="ruby-constant">Pool</span>.<span class="ruby-identifier">clouds_dot_rb_file</span>(<span class="ruby-identifier">n</span>);<span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000283" class="method-detail">
        <a name="M000283"></a>

        <div class="method-heading">
          <a href="#M000283" class="method-signature">
          <span class="method-name">new</span><span class="method-args">(opts={}, extra_opts={}, &amp;block)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000283-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000283-source">
<pre>
<span class="ruby-comment cmt"># File lib/poolparty/base.rb, line 21</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">opts</span>={}, <span class="ruby-identifier">extra_opts</span>={}, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
      <span class="ruby-ivar">@init_block</span> = <span class="ruby-identifier">block</span>
      <span class="ruby-ivar">@init_opts</span> = <span class="ruby-identifier">compile_opts</span>(<span class="ruby-identifier">opts</span>, <span class="ruby-identifier">extra_opts</span>)
      
      <span class="ruby-identifier">run_with_callbacks</span>(<span class="ruby-identifier">init_opts</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
      <span class="ruby-ivar">@base_name</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">name</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M000296" class="method-detail">
        <a name="M000296"></a>

        <div class="method-heading">
          <a href="#M000296" class="method-signature">
          <span class="method-name">add_ordered_resources_to_result</span><span class="method-args">(resources, result)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Add all the <a href="Base.html#M000291">resources</a> as edges of each
other
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000296-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000296-source">
<pre>
<span class="ruby-comment cmt"># File lib/poolparty/base.rb, line 141</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_ordered_resources_to_result</span>(<span class="ruby-identifier">resources</span>, <span class="ruby-identifier">result</span>)
      <span class="ruby-identifier">arr_of_resources</span> = <span class="ruby-identifier">resources</span>.<span class="ruby-identifier">zip_offset</span>(<span class="ruby-value">1</span>)
      
      <span class="ruby-identifier">arr_of_resources</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">first</span>, <span class="ruby-identifier">second</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">result</span>.<span class="ruby-identifier">add_edge!</span>(<span class="ruby-identifier">first</span>, <span class="ruby-identifier">second</span>) <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">result</span>.<span class="ruby-identifier">edge?</span>(<span class="ruby-identifier">first</span>, <span class="ruby-identifier">second</span>) <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">result</span>.<span class="ruby-identifier">edge?</span>(<span class="ruby-identifier">second</span>, <span class="ruby-identifier">first</span>)
        <span class="ruby-identifier">add_ordered_resources_to_result</span>(<span class="ruby-identifier">first</span>.<span class="ruby-identifier">resources</span>, <span class="ruby-identifier">result</span>)
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000287" class="method-detail">
        <a name="M000287"></a>

        <div class="method-heading">
          <a href="#M000287" class="method-signature">
          <span class="method-name">after_loaded</span><span class="method-args">(o={}, &amp;block)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
<a href="Base.html#M000287">after_loaded</a> This is run immediately after
the block given on init is yielded
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000287-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000287-source">
<pre>
<span class="ruby-comment cmt"># File lib/poolparty/base.rb, line 69</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">after_loaded</span>(<span class="ruby-identifier">o</span>={}, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000299" class="method-detail">
        <a name="M000299"></a>

        <div class="method-heading">
          <a href="#M000299" class="method-signature">
          <span class="method-name">all_resources</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000299-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000299-source">
<pre>
<span class="ruby-comment cmt"># File lib/poolparty/base.rb, line 180</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">all_resources</span>
      <span class="ruby-identifier">resources</span>.<span class="ruby-identifier">map</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">res</span><span class="ruby-operator">|</span>
        [<span class="ruby-identifier">res</span>, <span class="ruby-identifier">res</span>.<span class="ruby-identifier">all_resources</span> ]
      <span class="ruby-keyword kw">end</span>.<span class="ruby-identifier">flatten</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000286" class="method-detail">
        <a name="M000286"></a>

        <div class="method-heading">
          <a href="#M000286" class="method-signature">
          <span class="method-name">before_load</span><span class="method-args">(o={}, &amp;block)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
<a href="Base.html">Base</a> callbacks for <a
href="Base.html#M000285">run_with_callbacks</a> <a
href="Base.html#M000286">before_load</a> This is called before the block is
yielded
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000286-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000286-source">
<pre>
<span class="ruby-comment cmt"># File lib/poolparty/base.rb, line 63</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">before_load</span>(<span class="ruby-identifier">o</span>={}, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)      
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000303" class="method-detail">
        <a name="M000303"></a>

        <div class="method-heading">
          <a href="#M000303" class="method-signature">
          <span class="method-name">clouds_dot_rb_dir</span><span class="method-args">(n=nil)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000303-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000303-source">
<pre>
<span class="ruby-comment cmt"># File lib/poolparty/base.rb, line 205</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">clouds_dot_rb_dir</span>(<span class="ruby-identifier">n</span>=<span class="ruby-keyword kw">nil</span>); <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">clouds_dot_rb_dir</span>(<span class="ruby-identifier">n</span>);<span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000301" class="method-detail">
        <a name="M000301"></a>

        <div class="method-heading">
          <a href="#M000301" class="method-signature">
          <span class="method-name">clouds_dot_rb_file</span><span class="method-args">(n=nil)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
The clouds.rb file
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000301-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000301-source">
<pre>
<span class="ruby-comment cmt"># File lib/poolparty/base.rb, line 203</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">clouds_dot_rb_file</span>(<span class="ruby-identifier">n</span>=<span class="ruby-keyword kw">nil</span>); <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">clouds_dot_rb_file</span>(<span class="ruby-identifier">n</span>); <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000288" class="method-detail">
        <a name="M000288"></a>

        <div class="method-heading">
          <a href="#M000288" class="method-signature">
          <span class="method-name">compile_opts</span><span class="method-args">(o={}, extra={})</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Try to extract the name from the options Either the first parameter is a
string or it is a hash if it is a hash, just merge the two hashes If it is
a string, then merge it in as the name of the instance on the hash
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000288-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000288-source">
<pre>
<span class="ruby-comment cmt"># File lib/poolparty/base.rb, line 77</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">compile_opts</span>(<span class="ruby-identifier">o</span>={}, <span class="ruby-identifier">extra</span>={})
      <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">o</span>
      <span class="ruby-keyword kw">when</span> <span class="ruby-constant">Symbol</span>, <span class="ruby-constant">String</span>
        <span class="ruby-identifier">extra</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">o</span>.<span class="ruby-identifier">to_s</span>)
      <span class="ruby-keyword kw">when</span> <span class="ruby-constant">NilClass</span>
        <span class="ruby-identifier">extra</span>
      <span class="ruby-keyword kw">else</span>
        <span class="ruby-identifier">extra</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">o</span>)
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000297" class="method-detail">
        <a name="M000297"></a>

        <div class="method-heading">
          <a href="#M000297" class="method-signature">
          <span class="method-name">create_graph</span><span class="method-args">(resources, on, result)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Create the graph of <a href="Base.html#M000291">resources</a>. Blow up if a
resource isn&#8216;t found that is required. If it is found, add it as an
edge to the dependency graph
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000297-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000297-source">
<pre>
<span class="ruby-comment cmt"># File lib/poolparty/base.rb, line 153</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">create_graph</span>(<span class="ruby-identifier">resources</span>, <span class="ruby-identifier">on</span>, <span class="ruby-identifier">result</span>)
      <span class="ruby-identifier">resources</span>.<span class="ruby-identifier">each_with_index</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">resource</span>, <span class="ruby-identifier">idx</span><span class="ruby-operator">|</span>
        
        <span class="ruby-identifier">resource</span>.<span class="ruby-identifier">dependencies</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">dep_type</span>, <span class="ruby-identifier">deps_array</span><span class="ruby-operator">|</span>
          <span class="ruby-identifier">deps_array</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">dep_name</span><span class="ruby-operator">|</span>
            <span class="ruby-identifier">dep</span> = <span class="ruby-identifier">get_resource</span>(<span class="ruby-identifier">dep_type</span>, <span class="ruby-identifier">dep_name</span>)
            <span class="ruby-identifier">raise</span> <span class="ruby-constant">PoolPartyError</span>.<span class="ruby-identifier">create</span>(<span class="ruby-value str">&quot;ResourceNotFound&quot;</span>, <span class="ruby-node">&quot;A resource required for #{resource.has_method_name}(#{resource.name}) was not found: #{dep_type}(#{dep_name}). Please make sure you've specified this in your configuration.&quot;</span>) <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">dep</span>
            <span class="ruby-identifier">result</span>.<span class="ruby-identifier">add_edge!</span>(<span class="ruby-identifier">dep</span>, <span class="ruby-identifier">resource</span>, <span class="ruby-identifier">dep</span>.<span class="ruby-identifier">name</span>) <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">result</span>.<span class="ruby-identifier">edge?</span>(<span class="ruby-identifier">dep</span>, <span class="ruby-identifier">resource</span>)
          <span class="ruby-keyword kw">end</span>
        <span class="ruby-keyword kw">end</span>
        
        <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">on</span>
          <span class="ruby-identifier">result</span>.<span class="ruby-identifier">add_edge!</span>(<span class="ruby-identifier">resource</span>, <span class="ruby-identifier">on</span>, <span class="ruby-identifier">resource</span>.<span class="ruby-identifier">name</span>) <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">result</span>.<span class="ruby-identifier">edge?</span>(<span class="ruby-identifier">resource</span>, <span class="ruby-identifier">on</span>)
        <span class="ruby-keyword kw">else</span>
          <span class="ruby-identifier">result</span>.<span class="ruby-identifier">add_vertex!</span>(<span class="ruby-identifier">resource</span>)
        <span class="ruby-keyword kw">end</span>
        
        <span class="ruby-identifier">create_graph</span>(<span class="ruby-identifier">resource</span>.<span class="ruby-identifier">resources</span>, <span class="ruby-identifier">resource</span>, <span class="ruby-identifier">result</span>)
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000298" class="method-detail">
        <a name="M000298"></a>

        <div class="method-heading">
          <a href="#M000298" class="method-signature">
          <span class="method-name">dependencies</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
All the <a href="Base.html#M000298">dependencies</a> that are required by
this resource This is a hash of the <a
href="Base.html#M000298">dependencies</a> required by the resource
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000298-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000298-source">
<pre>
<span class="ruby-comment cmt"># File lib/poolparty/base.rb, line 176</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">dependencies</span>
      <span class="ruby-ivar">@dependencies</span> <span class="ruby-operator">||=</span> {}
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000293" class="method-detail">
        <a name="M000293"></a>

        <div class="method-heading">
          <a href="#M000293" class="method-signature">
          <span class="method-name">get_resource</span><span class="method-args">(ty, nm)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Get a resource, based on it&#8216;s type Used for INTERNAL use
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000293-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000293-source">
<pre>
<span class="ruby-comment cmt"># File lib/poolparty/base.rb, line 116</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">get_resource</span>(<span class="ruby-identifier">ty</span>, <span class="ruby-identifier">nm</span>)
      <span class="ruby-identifier">o</span> = <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">send</span> <span class="ruby-node">&quot;#{ty}s&quot;</span>.<span class="ruby-identifier">to_sym</span>
      <span class="ruby-identifier">o</span>.<span class="ruby-identifier">detect</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">r</span><span class="ruby-operator">|</span> <span class="ruby-identifier">r</span>.<span class="ruby-identifier">name</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">nm</span> }
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000306" class="method-detail">
        <a name="M000306"></a>

        <div class="method-heading">
          <a href="#M000306" class="method-signature">
          <span class="method-name">has_searchable_paths</span><span class="method-args">(opts={})</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000306-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000306-source">
<pre>
<span class="ruby-comment cmt"># File lib/poolparty/base.rb, line 220</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">has_searchable_paths</span>(<span class="ruby-identifier">opts</span>={})
      <span class="ruby-identifier">default_searchable_paths</span> = [
        <span class="ruby-constant">Dir</span>.<span class="ruby-identifier">pwd</span>,
        <span class="ruby-constant">PoolParty</span><span class="ruby-operator">::</span><span class="ruby-constant">Default</span>.<span class="ruby-identifier">poolparty_home_path</span>,
        <span class="ruby-constant">PoolParty</span><span class="ruby-operator">::</span><span class="ruby-constant">Default</span>.<span class="ruby-identifier">poolparty_src_path</span>,
        <span class="ruby-constant">PoolParty</span><span class="ruby-operator">::</span><span class="ruby-constant">Default</span>.<span class="ruby-identifier">poolparty_src_path</span><span class="ruby-operator">/</span><span class="ruby-identifier">:lib</span><span class="ruby-operator">/</span><span class="ruby-identifier">:poolparty</span>,
        <span class="ruby-constant">PoolParty</span><span class="ruby-operator">::</span><span class="ruby-constant">Default</span>.<span class="ruby-identifier">base_config_directory</span>,
        <span class="ruby-constant">PoolParty</span><span class="ruby-operator">::</span><span class="ruby-constant">Default</span>.<span class="ruby-identifier">remote_storage_path</span>
      ]
      <span class="ruby-keyword kw">super</span>(<span class="ruby-identifier">opts</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">:paths</span> =<span class="ruby-operator">&gt;</span> (<span class="ruby-identifier">opts</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">:paths</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">default_searchable_paths</span>)))
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000305" class="method-detail">
        <a name="M000305"></a>

        <div class="method-heading">
          <a href="#M000305" class="method-signature">
          <span class="method-name">method_missing</span><span class="method-args">(m,*a,&amp;block)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
If the method is missing from ourself, check the <a
href="Default.html">Default</a> class for the corresponding method. If the
<a href="Default.html">Default</a> class has the method, inquire from the
<a href="Default.html">Default</a> class, otherwise, call super
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000305-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000305-source">
<pre>
<span class="ruby-comment cmt"># File lib/poolparty/base.rb, line 212</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">method_missing</span>(<span class="ruby-identifier">m</span>,<span class="ruby-operator">*</span><span class="ruby-identifier">a</span>,<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
      <span class="ruby-keyword kw">if</span> <span class="ruby-constant">Default</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-identifier">m</span>)
        <span class="ruby-constant">Default</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">m</span>,<span class="ruby-operator">*</span><span class="ruby-identifier">a</span>,<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
      <span class="ruby-keyword kw">else</span>
        <span class="ruby-keyword kw">super</span>
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000292" class="method-detail">
        <a name="M000292"></a>

        <div class="method-heading">
          <a href="#M000292" class="method-signature">
          <span class="method-name">ordered_resources</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Order the <a href="Base.html#M000295">resources_graph</a> using a top-sort
iterator
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000292-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000292-source">
<pre>
<span class="ruby-comment cmt"># File lib/poolparty/base.rb, line 110</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">ordered_resources</span>
      <span class="ruby-identifier">resources_graph</span>.<span class="ruby-identifier">topsort</span>.<span class="ruby-identifier">to_a</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000300" class="method-detail">
        <a name="M000300"></a>

        <div class="method-heading">
          <a href="#M000300" class="method-signature">
          <span class="method-name">output_resources_graph</span><span class="method-args">(fmt='png', dotfile=name, params={})</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Write the cloud dependency graph
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000300-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000300-source">
<pre>
<span class="ruby-comment cmt"># File lib/poolparty/base.rb, line 187</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">output_resources_graph</span>(<span class="ruby-identifier">fmt</span>=<span class="ruby-value str">'png'</span>, <span class="ruby-identifier">dotfile</span>=<span class="ruby-identifier">name</span>, <span class="ruby-identifier">params</span>={})
        <span class="ruby-identifier">p</span> = {
          <span class="ruby-value str">'bgcolor'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'white'</span>,
          <span class="ruby-value str">'label'</span>   =<span class="ruby-operator">&gt;</span> <span class="ruby-node">&quot;#{name}&quot;</span>,
          <span class="ruby-value str">'pad'</span>     =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'0.5'</span>,
          <span class="ruby-value str">'rankdir'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'LR'</span>,
          <span class="ruby-value str">'overlap'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'false'</span>,
          <span class="ruby-value str">'node_params'</span> =<span class="ruby-operator">&gt;</span> {
            <span class="ruby-value str">'color'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">'&quot;#111111&quot;'</span>,
            <span class="ruby-value str">'style'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;rounded&quot;</span>
          }
        }.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">params</span>)
        <span class="ruby-identifier">resources_graph</span>.<span class="ruby-identifier">write_to_graphic_file</span>(<span class="ruby-identifier">fmt</span>, <span class="ruby-identifier">dotfile</span>, <span class="ruby-identifier">p</span>)
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000291" class="method-detail">
        <a name="M000291"></a>

        <div class="method-heading">
          <a href="#M000291" class="method-signature">
          <span class="method-name">resources</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
<a href="Resources.html">Resources</a> are all the <a
href="Base.html#M000291">resources</a> attached to this resource
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000291-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000291-source">
<pre>
<span class="ruby-comment cmt"># File lib/poolparty/base.rb, line 105</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">resources</span>
      <span class="ruby-ivar">@resources</span> <span class="ruby-operator">||=</span> []
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000295" class="method-detail">
        <a name="M000295"></a>

        <div class="method-heading">
          <a href="#M000295" class="method-signature">
          <span class="method-name">resources_graph</span><span class="method-args">(force=false)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Create a directed adjacency graph of each of the <a
href="Base.html#M000298">dependencies</a> Add all the <a
href="Base.html#M000291">resources</a> in order and their <a
href="Base.html#M000291">resources</a> as well and then create the graph
from the rest of the <a href="Base.html#M000291">resources</a> to create
edges on the graph
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000295-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000295-source">
<pre>
<span class="ruby-comment cmt"># File lib/poolparty/base.rb, line 129</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">resources_graph</span>(<span class="ruby-identifier">force</span>=<span class="ruby-keyword kw">false</span>)
      <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@resources_graph</span> <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@resources_graph</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">force</span>
      <span class="ruby-identifier">result</span> = <span class="ruby-constant">Digraph</span>.<span class="ruby-identifier">new</span>      
      
      <span class="ruby-identifier">create_graph</span>(<span class="ruby-identifier">resources</span>, <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">result</span>)
      
      <span class="ruby-identifier">add_ordered_resources_to_result</span>(<span class="ruby-identifier">resources</span>, <span class="ruby-identifier">result</span>)
      
      <span class="ruby-ivar">@resources_graph</span> = <span class="ruby-identifier">result</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000284" class="method-detail">
        <a name="M000284"></a>

        <div class="method-heading">
          <a href="#M000284" class="method-signature">
          <span class="method-name">run_in_context</span><span class="method-args">(o={}, &amp;block)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Overloading the parent <a href="Base.html#M000284">run_in_context</a>
First, push ourself to the stack then set all the variables given with the
init and then eval the block and pop ourselves off the stack During
runtime, the stack looks like
</p>
<ul>
<li>self

<ul>
<li>instance_eval block

</li>
</ul>
</li>
<li>stack

</li>
</ul>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000284-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000284-source">
<pre>
<span class="ruby-comment cmt"># File lib/poolparty/base.rb, line 38</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">run_in_context</span>(<span class="ruby-identifier">o</span>={}, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
      <span class="ruby-identifier">proc</span> = <span class="ruby-constant">Proc</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword kw">do</span>
        <span class="ruby-identifier">set_vars_from_options</span>(<span class="ruby-identifier">:name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">o</span>[<span class="ruby-identifier">:name</span>]) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">o</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-identifier">:name</span>) <span class="ruby-comment cmt"># Name MUST be set first</span>
        <span class="ruby-identifier">set_vars_from_options</span>(<span class="ruby-identifier">o</span>)
        <span class="ruby-identifier">instance_eval</span> <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block</span>
      <span class="ruby-keyword kw">end</span>
      <span class="ruby-keyword kw">super</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">proc</span>)
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000285" class="method-detail">
        <a name="M000285"></a>

        <div class="method-heading">
          <a href="#M000285" class="method-signature">
          <span class="method-name">run_with_callbacks</span><span class="method-args">(o, &amp;block)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Run the block in the context of self and call the block after calling
</p>
<pre>
  before_load
</pre>
<p>
and afterwards calling
</p>
<pre>
  after_loaded
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000285-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000285-source">
<pre>
<span class="ruby-comment cmt"># File lib/poolparty/base.rb, line 52</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">run_with_callbacks</span>(<span class="ruby-identifier">o</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
      <span class="ruby-identifier">run_in_context</span>(<span class="ruby-identifier">o</span>) <span class="ruby-keyword kw">do</span>
        <span class="ruby-identifier">callback</span> <span class="ruby-identifier">:before_load</span>, <span class="ruby-identifier">o</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>
        <span class="ruby-identifier">instance_eval</span> <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block</span>
        <span class="ruby-identifier">callback</span> <span class="ruby-identifier">:after_loaded</span>, <span class="ruby-identifier">o</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>
      <span class="ruby-keyword kw">end</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000294" class="method-detail">
        <a name="M000294"></a>

        <div class="method-heading">
          <a href="#M000294" class="method-signature">
          <span class="method-name">to_s</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000294-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000294-source">
<pre>
<span class="ruby-comment cmt"># File lib/poolparty/base.rb, line 121</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_s</span>
      <span class="ruby-node">&quot;#{self.respond_to?(:has_method_name) ? self.has_method_name : self.class.to_s.top_level_class}:#{name}&quot;</span>
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000289" class="method-detail">
        <a name="M000289"></a>

        <div class="method-heading">
          <a href="#M000289" class="method-signature">
          <span class="method-name">valid?</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Validation checks if all of the <a href="Base.html#M000290">validations</a>
pass, the object is considered valid the <a
href="Base.html#M000290">validations</a> are responsible for raising a <a
href="PoolPartyError.html">PoolPartyError</a> (StandardError)
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000289-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000289-source">
<pre>
<span class="ruby-comment cmt"># File lib/poolparty/base.rb, line 91</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">valid?</span>
      <span class="ruby-identifier">validations</span>.<span class="ruby-identifier">each</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">validation</span><span class="ruby-operator">|</span> <span class="ruby-keyword kw">self</span>.<span class="ruby-identifier">send</span>(<span class="ruby-identifier">validation</span>.<span class="ruby-identifier">to_sym</span>) }
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000290" class="method-detail">
        <a name="M000290"></a>

        <div class="method-heading">
          <a href="#M000290" class="method-signature">
          <span class="method-name">validations</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
The array of <a href="Base.html#M000290">validations</a> that the instances
must pass to be considered valid. These must be methods available on the
instance
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000290-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000290-source">
<pre>
<span class="ruby-comment cmt"># File lib/poolparty/base.rb, line 97</span>
    <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">validations</span>
      []
    <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>